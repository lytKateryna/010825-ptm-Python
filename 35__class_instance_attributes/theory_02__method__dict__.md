## Что такое `__dict__`?

`__dict__` — это магический атрибут, возвращающий словарь, 
в котором объект хранит свои атрибуты.

Пример:

```python
from pprint import pprint

class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

p = Person("Alice", 30)

# ------ Для экземпляра класса: -------
print(p.__dict__)

# {'name': 'Alice', 'age': 30}


# ------  Для самого класса: -------
pprint(Person.__dict__)

# mappingproxy({'__dict__': <attribute '__dict__' of 'Person' objects>,
#               '__doc__': None,
#               '__init__': <function Person.__init__ at 0x7fe1cd16a2a0>,
#               '__module__': '__main__',
#               '__weakref__': <attribute '__weakref__' of 'Person' objects>})
```


## ✅ У каких объектов есть `__dict__`?

У объектов, которые позволяют динамически добавлять атрибуты:

* экземпляры пользовательских классов
* сами классы
* модули
* функции

Но **не у всех объектов есть `__dict__`** — например, у `int`, `list`, `tuple` нет.

---

## ❌ Почему `__dict__` может отсутствовать?

Если в классе используется атрибут `__slots__`, то экземпляры не получают `__dict__`. 
Почему?  
Потому что `__slots__` запрещает иметь атрибуте, не указанные явно в `__slots__`. 

```python
class Point:
    __slots__ = ('x', 'y')

    def __init__(self, x, y):
        self.x = x
        self.y = y


p = Point(2, 3)
print(p.__dict__)  # Ошибка AttributeError
```

**Плюсы `__slots__`**:

* Уменьшает потребление памяти
* Увеличивает скорость обработки объектов

---

## Для чего используется `__dict__`?

### 1. Инспекция атрибутов

Удобно для отладки:

```python
print(vars(p))
```

`vars(p)` = `p.__dict__`.

---

### 2. Динамическое изменение атрибутов

```python
p.__dict__['age'] = 31
print(p.age)  # 31
```

---


## Резюме

| Объект           | Что хранится в `__dict__`   |
| ---------------- | --------------------------- |
| Экземпляр класса | Его атрибуты                |
| Класс            | Методы и атрибуты класса    |
| Модуль           | Функции, переменные         |
| Функция          | Параметры, настройки и т.п. |


