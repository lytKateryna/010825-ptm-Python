## Модуль `datetime`

Модуль **`datetime`** — стандартная библиотека Python для работы с 
* датами, 
* временем, 
* часовыми поясами 
* и временными интервалами. 

Он предоставляет классы, которые позволяют удобно 
* создавать, 
* сравнивать, 
* форматировать 
* и производить вычисления с датами и временем.

---

## Обзор популярных методов `datetime` **с результатами примеров**

### 1. Класс `datetime`

```python
from datetime import datetime
```

[Коды форматирования](https://docs.python.org/3.12/library/datetime.html#format-codes)

| Метод / Атрибут     | Описание                                          | Пример                                        | Результат                      |
| ------------------- |---------------------------------------------------| --------------------------------------------- | ------------------------------ |
| `now()`             | Текущие дата и время                              | `datetime.now()`                              | `2025-11-22 14:36:12.123456`   |
| `today()`           | Текущая дата (как now)                            | `datetime.today()`                            | `2025-11-22 14:36:12.123456`   |
| `utcnow()`          | Текущие дата/время UTC                            | `datetime.utcnow()`                           | `2025-11-22 11:36:12.123456`   |
| `fromtimestamp(ts)` | Из unix-timestamp                                 | `datetime.fromtimestamp(1700000000)`          | `2023-11-14 02:13:20`          |
| `strptime()`        | **STR**ing **P**arse **T**ime: str -> datetime    | `datetime.strptime("2024-01-01", "%Y-%m-%d")` | `2024-01-01 00:00:00`          |
| `strftime()`        | **STR**ing **F**ormat **T**ime: datetime -> str   | `dt.strftime("%Y-%m-%d")`                     | `"2025-11-22"`                 |
| `replace()`         | Новый объект с изменёнными значениями             | `dt.replace(year=2030)`                       | `2030-11-22 14:36:12.123456`   |
| `isoformat()`       | ISO строка                                        | `dt.isoformat()`                              | `"2025-11-22T14:36:12.123456"` |
| `date()`            | Только дата                                       | `dt.date()`                                   | `2025-11-22`                   |
| `time()`            | Только время                                      | `dt.time()`                                   | `14:36:12.123456`              |
| `timestamp()`       | Unix-timestamp                                    | `dt.timestamp()`                              | `1763793372.123456`            |

---

#### Форматы времени, доступные в `datetime`

| Формат                          | Что это                           | Как получить              | Как разобрать                 | Пример                      |
| ------------------------------- | --------------------------------- | ------------------------- | ----------------------------- | --------------------------- |
| **ISO 8601**                    | Международный стандарт строки     | `dt.isoformat()`          | `datetime.fromisoformat(str)` | `2025-11-22T14:30:15+03:00` |
| **UNIX Timestamp**              | Количество секунд с 1.01.1970 UTC | `dt.timestamp()`          | `datetime.fromtimestamp(ts)`  | `1732253400.0`              |
| **Строковый формат (strftime)** | Произвольная строка по шаблону    | `dt.strftime("%Y-%m-%d")` | `datetime.strptime(str, fmt)` | `"2025-11-22"`              |

---

### 2. Класс `date`

```python
from datetime import date

d = date(2025, 11, 22)
```

[Коды форматирования](https://docs.python.org/3.12/library/datetime.html#format-codes)

| Метод               | Описание           | Пример                           | Результат      |
| ------------------- | ------------------ | -------------------------------- | -------------- |
| `today()`           | Текущая дата       | `date.today()`                   | `2025-11-22`   |
| `fromtimestamp(ts)` | Из timestamp       | `date.fromtimestamp(1700000000)` | `2023-11-14`   |
| `isoformat()`       | ISO строка         | `d.isoformat()`                  | `"2025-11-22"` |
| `replace()`         | Новый объект       | `d.replace(month=12)`            | `2025-12-22`   |
| `weekday()`         | День недели (0=Пн) | `d.weekday()`                    | `5` *(сб)*     |
| `isoweekday()`      | День недели (1=Пн) | `d.isoweekday()`                 | `6`            |
| `strftime()`        | Форматирование     | `d.strftime("%d.%m.%Y")`         | `"22.11.2025"` |

---

### 3. Класс `time`

```python
from datetime import time

t = time(12, 30, 15)
```

[Коды форматирования](https://docs.python.org/3.12/library/datetime.html#format-codes)

| Метод         | Описание       | Пример                 | Результат    |
| ------------- | -------------- | ---------------------- | ------------ |
| `isoformat()` | ISO формата    | `t.isoformat()`        | `"12:30:15"` |
| `replace()`   | Новый объект   | `t.replace(minute=45)` | `12:45:15`   |
| `strftime()`  | Форматирование | `t.strftime("%H:%M")`  | `"12:30"`    |

---

### 4. Класс `timedelta`

```python
from datetime import timedelta

delta = timedelta(days=3, hours=5)
```

| Метод / Операция      | Описание                   | Пример                                 | Результат          |
| --------------------- | -------------------------- | -------------------------------------- |--------------------|
| `timedelta(...)`      | Создание разницы           | `timedelta(days=3)`                    | `3 days, 5:00:00` |
| Арифметика (сложение) | Добавление к дате          | `date(2025, 1, 1) + timedelta(days=1)` | `2025-01-02`       |
| **Вычитание дат**     | Разница между двумя датами | `date(2025, 1, 10) - date(2025, 1, 1)` | `9 days`           |
| `total_seconds()`     | Общее число секунд разницы | `delta.total_seconds()`                | `280800`           |


---

### 5. Функции модуля

Пусть `d = date(2025, 11, 22)` и `t = time(12, 30)`

| Функция                    | Описание                  | Пример                                       | Результат             |
| -------------------------- | ------------------------- | -------------------------------------------- | --------------------- |
| `datetime.combine()`       | Комбинация даты и времени | `datetime.combine(d, t)`                     | `2025-11-22 12:30:00` |
| `datetime.fromisoformat()` | Парсинг ISO               | `datetime.fromisoformat("2025-11-22T12:30")` | `2025-11-22 12:30:00` |
| `date.fromisoformat()`     | Для дат                   | `date.fromisoformat("2025-11-22")`           | `2025-11-22`          |
| `time.fromisoformat()`     | Для времени               | `time.fromisoformat("12:30:00")`             | `12:30:00`            |

---

### Резюме

Таким образом, `datetime` позволяет:

* получать текущие дату и время,
* разбирать строки в даты и обратно,
* вычислять интервалы,
* учитывать временные зоны,
* безопасно сравнивать даты/время.

Это основной инструмент Python для любой задачи, связанной с временем.

