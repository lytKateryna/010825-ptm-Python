# –ò–µ—Ä–∞—Ä—Ö–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–¥—É–ª—è `re`

```
re (–º–æ–¥—É–ª—å)
‚îú‚îÄ‚îÄ –ú–µ—Ç–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ search()       ‚Üí Match or None          ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫–µ 
‚îÇ   ‚îú‚îÄ‚îÄ match()        ‚Üí Match or None          ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ fullmatch()    ‚Üí Match or None          ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –≤—Å—è —Å—Ç—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ findall()      ‚Üí list[str or tuple]     ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ finditer()     ‚Üí iterator[Match]        ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä Match-–æ–±—ä–µ–∫—Ç–æ–≤  
‚îÇ   ‚îú‚îÄ‚îÄ sub()          ‚Üí str                    ‚Üí –ó–∞–º–µ–Ω—è–µ—Ç –ø–æ —à–∞–±–ª–æ–Ω—É (–∞–Ω–∞–ª–æ–≥ str.replace)  
‚îÇ   ‚îú‚îÄ‚îÄ subn()         ‚Üí (str, int)             ‚Üí –¢–æ –∂–µ, —á—Ç–æ sub(), –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—â—ë –∏ —á–∏—Å–ª–æ –∑–∞–º–µ–Ω  
‚îÇ   ‚îú‚îÄ‚îÄ split()        ‚Üí list[str]              ‚Üí –†–∞–∑–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ —à–∞–±–ª–æ–Ω—É (–∞–Ω–∞–ª–æ–≥ str.split) 
‚îÇ   ‚îú‚îÄ‚îÄ compile()      ‚Üí Pattern object         ‚Üí –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É —à–∞–±–ª–æ–Ω–∞ –≤ –æ–±—ä–µ–∫—Ç Pattern  
‚îÇ   ‚îî‚îÄ‚îÄ escape()       ‚Üí str (—ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç        ‚Üí –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç raw-—Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª–µ–Ω—ã   
‚îÇ                             —Å–ø–µ—Ü. —Å–∏–º–≤–æ–ª—ã)                            —Å–∏–º–≤–æ–ª—ã —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è '\'
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã-—Ñ–ª–∞–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ re.IGNORECASE / re.I     ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'A' == 'a')
‚îÇ   ‚îú‚îÄ‚îÄ re.MULTILINE / re.M      ‚Üí ^ –∏ $ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ (–∞ –Ω–µ –≤—Å–µ–≥–æ —Ç–µ–∫—Å—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ re.DOTALL / re.S         ‚Üí –¢–æ—á–∫–∞ (.) –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ \n
‚îÇ   ‚îú‚îÄ‚îÄ re.VERBOSE / re.X        ‚Üí –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ (—É–¥–æ–±–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö regex)
‚îÇ   ‚îú‚îÄ‚îÄ re.ASCII / re.A          ‚Üí –°–∏–º–≤–æ–ª—ã \w, \b, \d –∏ —Ç.–ø. —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å ASCII (–Ω–µ Unicode)
‚îÇ   ‚îî‚îÄ‚îÄ re.LOCALE                ‚Üí –ü–æ–≤–µ–¥–µ–Ω–∏–µ \w, \W, \b –∏ —Ç.–ø. –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–æ–∫–∞–ª–∏ (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –∏ —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ)
‚îÇ                                        (–ø—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–æ–∫–∞–ª–∏: locale.setlocale(locale.LC_ALL, 'ru_RU.UTF-8'))
‚îÇ
‚îÇ                           ‚ö†Ô∏è –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–ª–∞–≥–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Å –ø–æ–º–æ—â—å—é —Å–∏–º–≤–æ–ª–∞ "|" 
‚îÇ                                (flags = re.IGNORECASE | re.DOTALL)
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ –û–±—ä–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Pattern (—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ match()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fullmatch()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ findall()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finditer()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sub()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subn()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ split()
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ .pattern (–∞—Ç—Ä–∏–±—É—Ç, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —à–∞–±–ª–æ–Ω —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Match
‚îÇ       ‚îú‚îÄ‚îÄ group([n])
‚îÇ       ‚îú‚îÄ‚îÄ groups()
‚îÇ       ‚îú‚îÄ‚îÄ groupdict()
‚îÇ       ‚îú‚îÄ‚îÄ start([n])
‚îÇ       ‚îú‚îÄ‚îÄ end([n])
‚îÇ       ‚îú‚îÄ‚îÄ span([n])
‚îÇ       ‚îî‚îÄ‚îÄ .string (–∞—Ç—Ä–∏–±—É—Ç, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç)

```

## –ú–µ—Ç–æ–¥—ã

–ü—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –∏ —Ç–µ–∫—Å—Ç, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤–∏–¥–µ

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã-—Ñ–ª–∞–≥–∏

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç (–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç) –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ–∏—Å–∫–∏ –∏/–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ

–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤ –≤–æ–∑–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∑–Ω–∞–∫ `|`:
```
import re

pattern = r"–Ω–∞—á–∞–ª–æ.*–∫–æ–Ω–µ—Ü"
flags = re.IGNORECASE | re.DOTALL

regex = re.compile(pattern, flags)
```
(–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `.*` –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ (`DOTALL`), 
–∞ –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º (`IGNORECASE`))

## –û–±—ä–µ–∫—Ç—ã

–ò—Ö –≤—Å–µ–≥–æ –¥–≤–∞. 

### 1. Pattern (—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω)

```python
import re

pattern = re.compile(r"\d+", re.IGNORECASE)
print(type(pattern))  # <class 're.Pattern'>
```

`pattern` - —ç—Ç–æ:
- **–ü–æ —Å—É—Ç–∏**: —Ç–∞–∫–∞—è –∂–µ `raw`-—Å—Ç—Ä–æ–∫–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.
- **–ü–æ —Ñ–∞–∫—Ç—É**: —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ + –ø–æ—á—Ç–∏ –≤—Å–µ `re`- –º–µ—Ç–æ–¥—ã

**–û—Ç–ª–∏—á–∏—è –æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç–æ–π `raw`-—Å—Ç—Ä–æ–∫–∏**:
- –†–∞–±–æ—Ç–∞–µ—Ç –≥–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ, —Ç.–∫. –ø–∞—Ç—Ç–µ—Ä–Ω —É–∂–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –≤ –æ–±—ä–µ–∫—Ç
- –°–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –ø–æ—á—Ç–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã `re`, –∫—Ä–æ–º–µ (`.compile()`)

–¢–µ–ø–µ—Ä—å, –∫ —ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É `pattern` –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–µ—Ç–æ–¥—ã
```python
m = pattern.search("abc123xyz")
print(m.group())  # 123
```

### 2. Match 

–û–±—ä–µ–∫—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (—Å–º. —Å—Ö–µ–º—É –≤ –Ω–∞—á–∞–ª–∞)

**–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```
Match
‚îú‚îÄ‚îÄ .group([n])       ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤–ø–∞–≤—à—É—é —Å—Ç—Ä–æ–∫—É (–∏–ª–∏ –ø–æ–¥–≥—Ä—É–ø–ø—É)
‚îú‚îÄ‚îÄ .groups()         ‚Üí —Ç—é–ø–ª –≤—Å–µ—Ö –ø–æ–¥–≥—Ä—É–ø–ø (–∫—Ä–æ–º–µ –Ω—É–ª–µ–≤–æ–π)
‚îú‚îÄ‚îÄ .groupdict()      ‚Üí —Å–ª–æ–≤–∞—Ä—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø
‚îú‚îÄ‚îÄ .start([n])       ‚Üí –ø–æ–∑–∏—Ü–∏—è –Ω–∞—á–∞–ª–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .end([n])         ‚Üí –ø–æ–∑–∏—Ü–∏—è –∫–æ–Ω—Ü–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .span([n])        ‚Üí –∫–æ—Ä—Ç–µ–∂ (start, end)
‚îú‚îÄ‚îÄ .re               ‚Üí —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω (Pattern)
‚îú‚îÄ‚îÄ .string           ‚Üí –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –∏—Å–∫–∞–ª–∏
‚îî‚îÄ‚îÄ .pos / .endpos    ‚Üí –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–∞ (–µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –∑–∞–¥–∞–Ω—ã)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:

#### `.group([n])`

    n = 0 ‚Äî –≤—Å—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

    n = 1, 2... ‚Äî –≥—Ä—É–ø–ø—ã (—Å–∫–æ–±–∫–∏) –≤ —à–∞–±–ª–æ–Ω–µ
```
m = re.search(r"(\d{3})-(\d{2})-(\d{2})", "Phone: 123-45-67 –Ω–∞–π–¥–µ–Ω")
print(m)
print(m.group(0))  # '123-45'
print(m.group(1))  # '123'
print(m.group(2))  # '45'
print(m.group(3))  # '67'
```
#### `.groups()`

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—é–ø–ª –≤—Å–µ—Ö –≥—Ä—É–ø–ø (–±–µ–∑ –≤—Å–µ–π —Å—Ç—Ä–æ–∫–∏)

```
m = re.search(r"(\d{3})-(\d{2})-(\d{2})", "Phone: 123-45-67 –Ω–∞–π–¥–µ–Ω")
print(m)
print(m.groups())  # '('123', '45', '67')
```
#### `.groupdict()`

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø, –µ—Å–ª–∏ –∏–º–µ–Ω–∞ –≥—Ä—É–ø–ø –∑–∞–¥–∞–Ω—ã –≤ —à–∞–±–ª–æ–Ω–µ
```
m = re.search(r"(?P<area>\d{3})-(?P<number>\d{2})", "123-45")
print(m)
print(m.groupdict())  # {'area': '123', 'number': '45'}
```

üî∏ –ü–æ–∑–∏—Ü–∏–∏ –≤ —Å—Ç—Ä–æ–∫–µ:
.start([n]), .end([n]), .span([n])

    –ì–¥–µ –≤ —Å—Ç—Ä–æ–∫–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
```
m = re.search(r"\d+", "abc123def")
print(m.start())  # 3
print(m.end())    # 6
print(m.span())   # (3, 6)
```

| –°–≤–æ–π—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| `.re` | –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω (Pattern), –≤—ã–∑–≤–∞–≤—à–∏–π –ø–æ–∏—Å–∫ |
| `.string` | –ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –ø–æ–∏—Å–∫ |
| `.pos` | –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ–∏—Å–∫–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –≤—Ä—É—á–Ω—É—é) |
| `.endpos` | –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ–∏—Å–∫–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –≤—Ä—É—á–µ–Ω–∞) |



```
p = re.compile(r"\d+")
m = p.search("abc123", pos=2, endpos=5)
print(m.group())     # '123'
print(m.pos)         # 2
print(m.endpos)      # 5
```
